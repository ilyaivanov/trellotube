(this.webpackJsonptrellotube=this.webpackJsonptrellotube||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(19),a=n.n(o);n(62),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(6),c=n(7),d=function(){return Math.random()+""},l=function(e){return{type:"TOP_BAR_BUTTON_PRESSED",buttonPressedType:e}};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,m=function(e,t){return(n=_(e,p({part:"snippet",maxResults:20},t)),fetch(n).then((function(e){return e.json()}))).then((function(e){return{items:e.items.filter((function(e){return y(O(e).kind)})).map(b)}}));var n},b=function(e){var t={imageUrl:e.snippet.thumbnails.medium.url,text:e.snippet.title,id:d(),type:I(O(e).kind)};return"video"===t.type?t.videoId=O(e).videoId:t.playlistId=O(e).playlistId,t},O=function(e){return"youtube#playlistItem"===e.kind?e.snippet.resourceId:e.id},E=function(e,t){return console.log(t,e),e},y=function(e){return"youtube#video"===e||"youtube#playlist"===e||"youtube#playlistItem"===e},I=function(e){return"youtube#video"===e||"youtube#playlistItem"===e?"video":"playlist"},v={key:"AIzaSyAk1MbyIUnFinouWsMg46UwgHa8JjHBrsw"},_=function(e,t){return"https://www.googleapis.com/youtube/v3/".concat(e,"?").concat(function(e){var t=p({},e,{},v);return Object.keys(t).filter((function(e){return"undefined"!==typeof t[e]})).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")}(t))};!function(e){e.REMOVE_COLUMN="REMOVE_COLUMN",e.CREATE_COLUMN="CREATE_COLUMN",e.SEARCH_DONE="SEARCH_DONE",e.FIND_SIMILAR_START="FIND_SIMILAR_START",e.FIND_SIMILAR_DONE="FIND_SIMILAR_DONE",e.SELECT_BOARD="SELECT_BOARD",e.RENAME_COLUMN="RENAME_COLUMN",e.DRAG_END="DRAG_END",e.CREATE_BOARD="CREATE_BOARD",e.REMOVE_BOARD="REMOVE_BOARD",e.RENAME_BOARD="RENAME_BOARD",e.DONE_LOADING_PLAYLIST="DONE_LOADING_PLAYLIST",e.RESET="RESET"}(f||(f={}));var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:f.CREATE_COLUMN,columnConfiguration:e}},g=function(e){return{type:f.SELECT_BOARD,boardId:e}},A=function(e,t){return{type:f.DONE_LOADING_PLAYLIST,items:t,playlistId:e}},D=n(22),S=function(e,t){if("SEARCH"===t)return e.searchResults;if("SIMILAR"===t)return e.similarState.items;var n=T(e,t);return n?e.boards[n].columns[t].items:[]},h=function(e){return e.boards[e.selectedBoard]},T=function(e,t){return e.boardsOrder.find((function(n){return e.boards[n].columnOrders.indexOf(t)>=0}))};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e,t,n){return"SEARCH"===t?C({},e,{searchResults:N(e.searchResults,n)}):"SIMILAR"===t?C({},e,{similarState:C({},e.similarState,{items:N(e.similarState.items,n)})}):F(e,{id:t,items:N(h(e).columns[t].items,n)})},x=function(e,t,n,r){if("SEARCH"===t)return C({},e,{searchResults:L(e.searchResults,n,r)});if("SIMILAR"===t)return C({},e,{similarState:C({},e.similarState,{items:L(e.similarState.items,n,r)})});var i=L(h(e).columns[t].items,n,r);return F(e,{id:t,items:i})},L=function(e,t,n){var r=Object(D.a)(e);return r.splice(t,0,n),r},N=function(e,t){var n=Object(D.a)(e);return n.splice(t,1),n},B=function(e,t){return e.concat([t])},w=function(e,t){return[t].concat(e)};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,H=function(e,t,n){return t!==n?t:e.filter((function(e){return e!==t}))[0]},Y=function(e,t){return U({},e,{boards:U({},e.boards,Object(c.a)({},t.boardId,t))})},G=function(e,t){return U({},e,{columns:U({},e.columns,Object(c.a)({},t.id,t))})},V=function(e,t){var n=JSON.parse(JSON.stringify({boardName:"ANOTHER BOARd",boardId:"BOARD_2",boardOptions:{},columns:{},columnOrders:[]}));return n.boardName="New Board",n.boardId=t,U({},e,Object(c.a)({},t,n))},F=function(e,t){var n=h(e);return Y(e,G(n,U({},n.columns[t.id],{},t)))},K=function(e){var t=h(e);return t?t.columnOrders.map((function(e){return t.columns[e]})):[]};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e.PLAY="PLAY"}(k||(k={}));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e,t,n){return $(e,z(t,n))},z=function(e,t){return J({},e,{boardOptions:J({},e.boardOptions,{},t)})},Z=function(e,t){return J({},e,{userOptions:J({},e.userOptions,{},t)})},$=function(e,t){return J({},e,{boards:J({},e.boards,Object(c.a)({},t.boardId,t))})},Q=n(42),ee=n(29),te=n(44),ne=n.n(te),re=n(45),ie=Object(Q.a)({boards:{BOARD_1:{boardId:"BOARD_1",boardName:"My Board",boardOptions:{},columns:{1:{id:"1",items:[{text:"Short name",id:"Column1 Video1",videoId:"Column1 Video1 YoutubeLink",imageUrl:"https://i.ytimg.com/vi/6Zo_FTUNDBI/mqdefault.jpg",type:"video"},{text:"Short name",id:"Column1 Video2",videoId:"Column1 Video2 YoutubeLink",imageUrl:"https://i.ytimg.com/vi/6Zo_FTUNDBI/mqdefault.jpg",type:"video"}],name:"First",type:"PLAYLIST"},2:{id:"2",items:[{text:"Title 2",id:"MY_VIDEO_ID",videoId:"YOUTUBE_ID",imageUrl:"",type:"video"},{text:"Some Playlist",id:"MY_PLAYLIST_ID",playlistId:"YOUTUBE_PLAYLIST_ID",imageUrl:"",type:"playlist"}],name:"Second",type:"PLAYLIST"}},columnOrders:["1","2"]},BOARD_2:{boardName:"ANOTHER BOARd",boardId:"BOARD_2",boardOptions:{},columns:{},columnOrders:[]}},boardsOrder:["BOARD_1","BOARD_2"],selectedBoard:"BOARD_1",userOptions:{isLeftSidebarVisible:!1,leftSidebarContentType:"search"},searchResults:[{text:"Title 2",id:"MY_VIDEO_ID_AT_SEARCH",videoId:"YOUTUBE_ID_AT_SEARCH",imageUrl:"",type:"video"}],similarState:{items:[{text:"Title 2",id:"MY_VIDEO_ID_AT_SIMILAR",videoId:"YOUTUBE_ID_AT_SIMILAR",imageUrl:"",type:"video"}],isLoading:!1}},(function(e,t){if(t.type===f.RESET)return{boards:{BOARD_1:{boardId:"BOARD_1",boardName:"My Board",boardOptions:{},columns:{1:{id:"1",items:[{text:"Short name",id:"Column1 Video1",videoId:"Column1 Video1 YoutubeLink",imageUrl:"https://i.ytimg.com/vi/6Zo_FTUNDBI/mqdefault.jpg",type:"video"},{text:"Short name",id:"Column1 Video2",videoId:"Column1 Video2 YoutubeLink",imageUrl:"https://i.ytimg.com/vi/6Zo_FTUNDBI/mqdefault.jpg",type:"video"}],name:"First",type:"PLAYLIST"},2:{id:"2",items:[{text:"Title 2",id:"MY_VIDEO_ID",videoId:"YOUTUBE_ID",imageUrl:"",type:"video"},{text:"Some Playlist",id:"MY_PLAYLIST_ID",playlistId:"YOUTUBE_PLAYLIST_ID",imageUrl:"",type:"playlist"}],name:"Second",type:"PLAYLIST"}},columnOrders:["1","2"]},BOARD_2:{boardName:"ANOTHER BOARd",boardId:"BOARD_2",boardOptions:{},columns:{},columnOrders:[]}},boardsOrder:["BOARD_1","BOARD_2"],selectedBoard:"BOARD_1",userOptions:{isLeftSidebarVisible:!1,leftSidebarContentType:"search"},searchResults:[{text:"Title 2",id:"MY_VIDEO_ID_AT_SEARCH",videoId:"YOUTUBE_ID_AT_SEARCH",imageUrl:"",type:"video"}],similarState:{items:[{text:"Title 2",id:"MY_VIDEO_ID_AT_SIMILAR",videoId:"YOUTUBE_ID_AT_SIMILAR",imageUrl:"",type:"video"}],isLoading:!1}};if(t.type===f.REMOVE_COLUMN){var n=h(e),r=U({},n.columns);delete r[t.columnId];var i=U({},n,{columnOrders:n.columnOrders.filter((function(e){return e!==t.columnId})),columns:r});return Y(e,i)}if(t.type===f.CREATE_COLUMN){var o=h(e),a={items:[],name:t.columnConfiguration.columnName||"New Column",id:t.columnConfiguration.columnId||d(),type:"PLAYLIST"},u=U({},o,{columnOrders:(t.columnConfiguration.fromStart?w:B)(o.columnOrders,a.id)});return Y(e,G(u,a))}if(t.type===f.DONE_LOADING_PLAYLIST)return F(e,{id:t.playlistId,items:t.items});if(t.type===f.SEARCH_DONE)return U({},e,{searchResults:t.items});if(t.type===f.SELECT_BOARD)return U({},e,{selectedBoard:t.boardId});if(t.type===f.RENAME_COLUMN)return F(e,{id:t.columnId,name:t.newName});if(t.type===f.DRAG_END)return function(e,t){var n=t.destination,r=t.source;if(!n)return e;if(n.droppableId===r.droppableId&&n.index===r.index)return e;if("board"===r.droppableId){var i=h(e),o=Object(D.a)(i.columnOrders);return o.splice(r.index,1),o.splice(n.index,0,t.draggableId),C({},e,{boards:C({},e.boards,Object(c.a)({},i.boardId,C({},i,{columnOrders:o})))})}var a=S(e,r.droppableId)[r.index],u=P(e,r.droppableId,r.index);return x(u,n.droppableId,n.index,a)}(e,t.dropResult);if(t.type===f.CREATE_BOARD)return U({},e,{boardsOrder:e.boardsOrder.concat([t.boardId]),boards:V(e.boards,t.boardId),selectedBoard:t.boardId});if(t.type===f.RENAME_BOARD)return Y(e,U({},e.boards[t.boardId],{boardName:t.newText}));if(t.type===f.REMOVE_BOARD){var l=e.boards;return delete l[t.boardId],U({},e,{boardsOrder:e.boardsOrder.filter((function(e){return e!==t.boardId})),selectedBoard:H(e.boardsOrder,e.selectedBoard,t.boardId),boards:l})}return e}),(function(e,t){return t.type===k.PLAY&&"video"===t.item.type?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{itemBeingPlayed:t.item}):e}),(function(e,t){var n=h(e);if("FIND_SIMILAR_START"===t.type)return X(e,n,{isLoadingSimilar:!0});if("TOP_BAR_BUTTON_PRESSED"===t.type){var r=e.userOptions.isLeftSidebarVisible,i=e.userOptions.leftSidebarContentType,o=t.buttonPressedType;return Z(e,r&&i===o?{isLeftSidebarVisible:!1}:r?{leftSidebarContentType:o}:{isLeftSidebarVisible:!0,leftSidebarContentType:o})}return t.type===f.FIND_SIMILAR_DONE?J({},e,{similarState:J({},e.similarState,{isLoading:!1,items:t.items})}):e})),oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ae=Object(ee.a)({key:"MY_CONFIG",blacklist:["itemBeingPlayed"],storage:ne.a},ie),ue=Object(u.e)(ae,oe(Object(u.a)(re.a))),ce=Object(ee.b)(ue),de=n(5),le=n(2),se=n(3),pe=n(10);var fe=n(8),me={STACK_WIDTH:220,STACK_PADDING:8,CARD_IMAGE_WIDTH:74,CARD_IMAGE_HEIGHT:41.625,CARD_HEIGHT:41.625,CARD_WIDTH:204,CARD_TEXT_WIDTH:146,BORDER_RADIUS:4,SIDEBAR_WIDTH:236,TOP_BAR_HEIGHT:40,PLAYER_HEIGHT:60,MAIN_COLOR:"#71797E",MENU_COLOR:"rgba(0,0,0,0.15)",ACCENT_COLOR:"lightpink",COLUMN_COLOR:"#E6E7ED"};function be(){var e=Object(le.a)(["\n  color: #1e1e1e;\n  font-size: 14px;\n\n  display: flex;\n  align-items: center;\n  padding-left: ","px;\n  width: ","px;\n  height: ","px;\n"]);return be=function(){return e},e}function Oe(){var e=Object(le.a)(["\n  width: ","px;\n  height: ","px;\n  border-top-left-radius: ","px;\n  border-bottom-left-radius: ","px;\n"]);return Oe=function(){return e},e}function Ee(){var e=Object(le.a)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  border-radius: ","px;\n  background-color: ",";\n  transition: background-color 400ms;\n  margin-bottom: ","px;\n  box-shadow: 0 2px 1px -1px gray;\n  &:hover "," {\n    display: inherit;\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=Object(le.a)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  font-size: 12px;\n  background-color: black;\n  opacity: 0.6;\n  font-weight: bold;\n  border-bottom-left-radius: ","px;\n  color: white;\n"]);return ye=function(){return e},e}function Ie(){var e=Object(le.a)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  display: none;\n"]);return Ie=function(){return e},e}function ve(){var e=Object(le.a)(["\n  margin-bottom: 0;\n  padding-left: ","px;\n  padding-bottom: ","px;\n\n  display: flex;\n  justify-content: space-between;\n"]);return ve=function(){return e},e}function _e(){var e=Object(le.a)(["\n  display: inline-flex;\n  align-items: flex-start;\n  margin: 8px 8px 8px 8px;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n"]);return _e=function(){return e},e}function Re(){var e=Object(le.a)(["\n  flex-grow: 1;\n  min-height: 50px;\n"]);return Re=function(){return e},e}function ge(){var e=Object(le.a)(["\n  background-color: ",";\n  margin-left: 8px;\n  border-radius: ","px;\n  width: ","px;\n  max-height: calc(\n    100vh - ","px - ","px -\n      ","px\n  );\n  overflow: scroll;\n  display: flex;\n  flex-direction: column;\n  padding-left: ","px;\n  padding-right: ","px;\n  &:hover "," {\n    display: inherit;\n  }\n"]);return ge=function(){return e},e}function Ae(){var e=Object(le.a)(["\n  display: none;\n"]);return Ae=function(){return e},e}var De=se.a.div(Ae()),Se=se.a.div(ge(),me.COLUMN_COLOR,me.BORDER_RADIUS,me.STACK_WIDTH,2*me.STACK_PADDING,me.TOP_BAR_HEIGHT,me.PLAYER_HEIGHT,me.STACK_PADDING,me.STACK_PADDING,De),he=se.a.div(Re()),Te=se.a.div(_e()),je=se.a.h4(ve(),me.STACK_PADDING,me.STACK_PADDING),Ce=se.a.button(Ie()),Pe=se.a.div(ye(),me.BORDER_RADIUS),xe=se.a.div(Ee(),me.BORDER_RADIUS,(function(e){return e.isPlaying?me.ACCENT_COLOR:"white"}),me.STACK_PADDING,Ce),Le=se.a.img(Oe(),me.CARD_IMAGE_WIDTH,me.CARD_IMAGE_HEIGHT,me.BORDER_RADIUS,me.BORDER_RADIUS),Ne=se.a.div(be(),me.STACK_PADDING,me.CARD_TEXT_WIDTH,me.CARD_HEIGHT),Be=n(48),we=function(e){return{type:k.PLAY,item:e}},Me=Object(de.b)((function(e){return{currentItemId:e.itemBeingPlayed&&e.itemBeingPlayed.id}}),{findSimilar:function(e){return function(t,n){var r=n().userOptions;r.isLeftSidebarVisible&&"similar"===r.leftSidebarContentType||t(l("similar")),function(e){return m("search",{type:"video",relatedToVideoId:E(e,"search.similar")})}(e).then((function(e){var n=e.items;t(function(e){return{type:"FIND_SIMILAR_DONE",items:e}}(n))}))}},play:we,loadPlaylist:function(e){return function(t){var n,r=d();t(R({columnName:e.text,columnId:r,fromStart:!0})),(n=e.playlistId,m("playlistItems",{part:"snippet",playlistId:n,maxResults:20})).then((function(e){var n=e.items;t(A(r,n))}))}}})((function(e){var t=e.item,n=e.index,r=e.play,o=e.findSimilar,a=e.loadPlaylist,u=e.currentItemId,c=function(e){e.stopPropagation(),o(t.videoId)};return i.a.createElement(fe.b,{draggableId:t.id,index:n,type:"item"},(function(e){return i.a.createElement(xe,Object.assign({title:t.text,isPlaying:u===t.id,"data-testid":"video-"+t.id,onClick:function(){return r(t)},ref:e.innerRef},e.dragHandleProps,e.draggableProps),i.a.createElement(Le,{src:t.imageUrl}),i.a.createElement(Ne,null,i.a.createElement(Be.a,{width:136,lines:2},(n=t.text,(new DOMParser).parseFromString("<!doctype html><body>"+n,"text/html").body.textContent||""))),i.a.createElement(Pe,null,"video"===t.type?"V":"P"),"video"===t.type?i.a.createElement(Ce,{"data-testid":"video-find-similar-"+t.id,onClick:c},"similar"):i.a.createElement(Ce,{"data-testid":"video-load-playlist-"+t.id,title:"This will place playlist at the start of the board",onClick:function(e){return function(e,t){e.stopPropagation(),a(t)}(e,t)}},"load"));var n}))}));function Ue(){var e=Object(le.a)(["\n  padding-left: ","px;\n  padding-right: ","px;\n"]);return Ue=function(){return e},e}function ke(){var e=Object(le.a)(["\n  cursor: pointer;\n\n  padding-left: 20px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: ",";\n  &:hover {\n    background-color: ",";\n    color: black;\n  }\n  &:hover "," {\n    display: flex;\n  }\n"]);return ke=function(){return e},e}function He(){var e=Object(le.a)(["\n  position: absolute;\n  left: 0;\n  right: 8px;\n  justify-content: flex-end;\n  display: none;\n"]);return He=function(){return e},e}var Ye=se.a.div(He()),Ge=se.a.div(ke(),(function(e){return e.isSelected?me.ACCENT_COLOR:"black"}),me.ACCENT_COLOR,Ye),Ve=se.a.div(Ue(),me.STACK_PADDING,me.STACK_PADDING),Fe=Object(de.b)((function(e){return{items:e.searchResults}}),{searchDone:function(e){return{type:f.SEARCH_DONE,items:e}}})((function(e){var t=e.items,n=e.searchDone,o=Object(r.useState)(""),a=Object(pe.a)(o,2),u=a[0],c=a[1],d=function(e,t){var n=Object(r.useState)(e),i=Object(pe.a)(n,2),o=i[0],a=i[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o}(u,600);return Object(r.useEffect)((function(){d&&function(e){return m("search",{shart:"mostPopular",q:E(e,"search")})}(d).then((function(e){return n(e.items)}))}),[d,n]),i.a.createElement(Ve,null,i.a.createElement("input",{"data-testid":"search-input",type:"text",value:u,onChange:function(e){return c(e.target.value)}}),i.a.createElement(fe.c,{droppableId:"SEARCH",type:"item"},(function(e){return i.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),t.map((function(e,t){return i.a.createElement(Me,{key:e.id,index:t,item:e})})),e.placeholder)})))})),Ke=function(e){var t=e.id,n=e.label,o=e.onRename,a=e.onRemove,u=e.dragHandleProps,c=e.testIdGroupName,d=e.Title,l=e.Options,s=Object(r.useState)(!1),p=Object(pe.a)(s,2),f=p[0],m=p[1],b=Object(r.useState)(n),O=Object(pe.a)(b,2),E=O[0],y=O[1],I=function(){m(!1),o(t,E)};return i.a.createElement(d,Object.assign({},u,{"data-testid":"".concat(c,"-")+t}),f?i.a.createElement("input",{autoFocus:!0,onKeyPress:function(e){return"Enter"===e.key&&I()},onBlur:I,type:"text",value:E,"data-testid":"".concat(c,"-input-")+t,onChange:function(e){return y(e.target.value)}}):i.a.createElement("div",{"data-testid":"".concat(c,"-title-")+t},n),i.a.createElement(l,null,i.a.createElement("button",{"data-testid":"".concat(c,"-rename-")+t,onClick:function(e){e.stopPropagation(),f&&o(t,E),m(!f)}},"E"),i.a.createElement("button",{"data-testid":"".concat(c,"-remove-")+t,onClick:function(e){e.stopPropagation(),a(t)}},"X")))},We=Object(de.b)((function(e){return{app:e}}),{selectBoard:g,createAndSelectNewBoard:function(){var e=d();return{type:f.CREATE_BOARD,boardId:e}},renameBoard:function(e,t){return{type:f.RENAME_BOARD,boardId:e,newText:t}},removeBoard:function(e){return{type:f.REMOVE_BOARD,boardId:e}}})((function(e){var t=e.app,n=e.selectBoard,r=e.createAndSelectNewBoard,o=e.renameBoard,a=e.removeBoard;return i.a.createElement("div",{"data-testid":"board-view"},t.boardsOrder.map((function(e){return i.a.createElement(Ke,{dragHandleProps:{isSelected:e===t.selectedBoard,onClick:function(){return n(e)}},id:e,key:e,testIdGroupName:"board-button",label:t.boards[e].boardName,onRename:o,onRemove:a,Title:Ge,Options:Ye})})),i.a.createElement("button",{"data-testid":"create-board-button",onClick:r},"create"))})),qe=Object(de.b)((function(e){return{items:e.similarState.items,isLoading:e.similarState.isLoading}}))((function(e){var t=e.items,n=e.isLoading;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Similar"),n&&i.a.createElement("h5",null,"Loading..."),i.a.createElement(Ve,null,!n&&t&&i.a.createElement(fe.c,{droppableId:"SIMILAR",type:"item"},(function(e){return i.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),t.map((function(e,t){return i.a.createElement(Me,{key:e.id,index:t,item:e})})),e.placeholder)}))))})),Je=function(e){var t=e.state;return"search"===t?i.a.createElement(Fe,null):"board"===t?i.a.createElement(We,null):i.a.createElement(qe,null)},Xe=n(52);function ze(){var e=Object(le.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: ","px;\n  background-color: ",";\n"]);return ze=function(){return e},e}var Ze=se.a.div(ze(),me.PLAYER_HEIGHT,me.MENU_COLOR),$e=function(e){return i.a.createElement("div",{style:Qe},i.a.createElement(Xe.a,Object.assign({},e,{onReady:function(t){return e.onReady(t.target)},opts:{height:"150",width:"400",playerVars:{autoplay:1}}})))},Qe={position:"fixed",right:15,bottom:75},et=function(e){var t=e.itemBeingPlayed&&e.itemBeingPlayed.id;if(t)return function(e,t){var n=e.findIndex(t);return e[n+1]}(S(e,nt(e,t)),(function(e){return e.id===t}))},tt=function(e){var t=e.itemBeingPlayed&&e.itemBeingPlayed.id;if(t)return function(e,t){if(e){var n=e.findIndex(t);return e[n-1]}}(S(e,nt(e,t)),(function(e){return e.id===t}))},nt=function(e,t){if(e.searchResults.find((function(e){return e.id===t})))return"SEARCH";if(e.similarState&&e.similarState.items.find((function(e){return e.id===t})))return"SIMILAR";var n=e.boardsOrder.find((function(n){return e.boards[n].columnOrders.find((function(r){return e.boards[n].columns[r].items.find((function(e){return e.id===t}))}))})),r=e.boards[n],i=r&&r.columnOrders.find((function(e){return r.columns[e].items.find((function(e){return e.id===t}))}));return i||""},rt=Object(de.b)((function(e){return{videoId:e.itemBeingPlayed&&e.itemBeingPlayed.videoId,nextItem:et(e),prevItem:tt(e)}}),{play:we})((function(e){var t=e.videoId,n=e.nextItem,o=e.prevItem,a=e.play,u=Object(r.useState)(),c=Object(pe.a)(u,2)[1];return i.a.createElement(Ze,null,i.a.createElement("button",{disabled:!o,"data-testid":"player-play-prev",onClick:function(){return o&&a(o)}},"previous"),i.a.createElement("button",{disabled:!n,"data-testid":"player-play-next",onClick:function(){return n&&a(n)}},"next"),t&&i.a.createElement($e,{onEnd:function(){return n&&a(n)},onReady:c,videoId:t}))})),it=Object(de.b)(null,{renameColumn:function(e,t){return{type:f.RENAME_COLUMN,columnId:e,newName:t}},removeColumn:function(e){return{type:f.REMOVE_COLUMN,columnId:e}}})((function(e){var t=e.column,n=e.index,r=e.removeColumn,o=e.renameColumn;return i.a.createElement(fe.b,{draggableId:t.id,index:n},(function(e){return i.a.createElement(Se,Object.assign({"data-testid":"column-"+t.id,ref:e.innerRef},e.draggableProps),i.a.createElement(Ke,{dragHandleProps:e.dragHandleProps,label:t.name,id:t.id,onRename:o,onRemove:r,testIdGroupName:"column-label",Title:je,Options:De}),i.a.createElement(fe.c,{droppableId:t.id,type:"item"},(function(e){return i.a.createElement(he,Object.assign({ref:e.innerRef},e.droppableProps),t.items.map((function(e,t){return i.a.createElement(Me,{index:t,key:e.id,item:e})})),e.placeholder)})))}))})),ot=Object(de.b)((function(e){return{columns:K(e)}}),{createColumn:R,selectBoard:g})((function(e){var t=e.createColumn,n=e.columns;return i.a.createElement(fe.c,{droppableId:"board",direction:"horizontal",type:"column"},(function(e){return i.a.createElement(Te,Object.assign({ref:e.innerRef},e.droppableProps),n.map((function(e,t){return i.a.createElement(it,{key:e.id,column:e,index:t})})),e.placeholder,i.a.createElement("button",{"data-testid":"column-create",onClick:t},"+ Playlist"))}))}));function at(){var e=Object(le.a)(["\n  overflow: scroll;\n  flex: 1;\n"]);return at=function(){return e},e}function ut(){var e=Object(le.a)(["\n  background-color: ",";\n"]);return ut=function(){return e},e}function ct(){var e=Object(le.a)(["\n  position: relative;\n  background-color: ",";\n"]);return ct=function(){return e},e}function dt(){var e=Object(le.a)(["\n  width: ","px;\n  transition: width 200ms;\n  overflow: scroll;\n"]);return dt=function(){return e},e}function lt(){var e=Object(le.a)(["\n  display: flex;\n  flex: 1;\n  overflow: scroll;\n"]);return lt=function(){return e},e}function st(){var e=Object(le.a)(["\n  min-height: ","px;\n  background-color: ",";\n"]);return st=function(){return e},e}function pt(){var e=Object(le.a)(["\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  max-height: 100vh;\n  align-items: stretch;\n"]);return pt=function(){return e},e}var ft=se.a.div(pt(),me.MAIN_COLOR),mt=se.a.div(st(),me.TOP_BAR_HEIGHT,me.MENU_COLOR),bt=se.a.div(lt()),Ot=se.a.div(dt(),(function(e){return e.isVisible?me.SIDEBAR_WIDTH:0})),Et=Object(se.a)(Ot)(ct(),me.MENU_COLOR),yt=Object(se.a)(Ot)(ut(),me.MENU_COLOR),It=se.a.div(at()),vt=Object(de.b)((function(e){return{options:e.userOptions}}),{endDrag:function(e){return{type:f.DRAG_END,dropResult:e}},topBarButtonPressed:l})((function(e){var t=e.endDrag,n=e.topBarButtonPressed,r=e.options;return i.a.createElement(fe.a,{onDragEnd:t},i.a.createElement(ft,null,i.a.createElement(mt,null,"TopBar",i.a.createElement("button",{"data-testid":"boards-button",onClick:function(){return n("board")}},"boards"),i.a.createElement("button",{"data-testid":"search-button",onClick:function(){return n("search")}},"search"),i.a.createElement("button",{"data-testid":"similar-button",onClick:function(){return n("similar")}},"similar"),i.a.createElement("button",{style:{float:"right"},onClick:function(){return ce.purge()}},"clear-store")),i.a.createElement(bt,null,i.a.createElement(Et,{isVisible:r.isLeftSidebarVisible},i.a.createElement(Je,{state:r.leftSidebarContentType})),i.a.createElement(It,null,i.a.createElement(ot,null)),i.a.createElement(yt,{isVisible:!1},"Right Sidebar")),i.a.createElement(rt,null)))})),_t=i.a.createElement(de.a,{store:ue},i.a.createElement(vt,null));a.a.render(_t,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,n){e.exports=n(115)},62:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.7be60794.chunk.js.map